## 1. 병행제어
### 1. 개념
- 여러 트랜잰션이 동시에 실행되면서도 데이터베이스의 일관성을 유지하는 기법
- 동시에 여러 트랜잭션을 수행할 때, DB의 일관성을 해치지 않도록 트랜잭션 간의 상호 작용을 제어한다.

### 2. 병행제어의 목적
- 데이터베이스의 공유도 최대화
- 시스템 활용도 최대화
- 응답시간 최소화
- 단위 시간당 트랜잭션 처리선수 최대화
- DB일관성 유지

### 3. 병행제어의 문제점
#### 1. 갱신 분실(Lost Update)
- 여러 트랜잭션이 같은 데이터를 공유하여 갱신할 때 일부 갱신 결과가 손실되는 현상

#### 2. 비완료 의존성(Uncommited Dependency)
- 실패한 트랜잭션이 회복되기 전에 다른 트랜잭션이 그 결과를 참조하는 현상

#### 3. 모순성
- 병행 수행 중 원치 않는 자료를 사용함으로써 발생하는 문제
- 갱신 분시로가 비슷해 보이지만 여러 데이터를 가져올 때 발생하는 문제

#### 4. 연쇄복귀
- 하나의 트랜잭션이 실패해 롤백되면, 다른 트랜잭션도 함께 롤백되는 현상

### 4. 병행제어 기법
#### 1. 로킹(Locking)
- 트랜잭션이 데이터에 접근하려면 로킹을 수행해야 한다.
- 로킹된 데이터는 다른 트랜잭션이 접근할 수 없다.
- 로킹 단위 : 필드, 레코드, 파일, 데이터베이스 모두 로킹 단위가 될 수 있음
- 로킹 단위에 따른 구분
  - 로킹 단위가 크면
    - 로크 수 : 적어짐
    - 병행성 : 낮아짐
    - 오버헤드 : 감소
  - 로킹 단위가 작으면
    - 로크 수 : 많아짐
    - 병행성 : 높아짐
    - 오버헤드 증가 
#### 2. 2단계 로킹 규약
- 확장 단계에서는 새로운 Lock만 가능, 축소 단계에서는 Unlock만 가능하다.
  - 확장 단계 : 새로운 Lock은 가능하고 Unlock은 불가능하다.
  - 축소 단계 : Unlock은 가능하고 새로운 Lock은 불가능하다.
- 직렬 가능성을 보장
- 교착상태가 발생할 수 있다.

#### 3. 타임스탬프
- 데이터에 접근하는 시간을 미리 정해 순서대로 접근한다.
- 직렬가능성을 보장
- 교착상태가 발생하지 않는다.
- 연새복귀를 초래할 수 있음

## 2. 회복
### 1. 회복의 개념
- 장애로 인해 손상된 데이터베이스를 이전의 정상 상태로 복구하는 작업이다.

### 2. 장애의 유형
- 트랜잭션 장애
  - 실행중 발생하는 논리적 오류
- 시스템 장애
  - 하드웨어 시스템에서 발생하는 오류
- 미디어 장애
  - 디스크 손상 등으로 발생하는 오류

### 3. Undo와 Redo
- Undo : 취소
- Redo : 재실행

### 4. 로그파일
- 트랜잭션 데이터 변경사항을 데이터베이스에 기록하기 전에 먼저 기록하는 별도의 파일
- 이를 이용하여 트랜잭션의 시작과 종료 여부에 따라 REDO 또는 UNDO 수행

### 5. 회복 기법
#### 1. 로그 기반 회복 기법
1. 지연 갱신 회복 기법
   - 트랜잭션이 머킷되기 전까지 변경 내용을 로그 파일에만 저장
   - 중간에 장애가 생기더라도 데이터베이스에 기록되지 않았으므로 UNDO가 필요 없음(미 실행된 로그 폐기)
2. 즉시 갱신 회복 기법(Immedidate Update)
   - 트랜잭션 수행 중 변경 내용을 데이터베이스에 즉시 기록
   - 커밋 발생 이전의 갱신은 원자성이 보장되지 않는 미완료 갱신이므로 장애 발생 시 UNDO 필요
#### 2. 검사점 회복 기법
- 장애 발생 시 검사점 이전에 처리된 트랜잭션은 회복에서 제외, 이후 처리된 트랜잭션은 회복 작업 수행
#### 3. 그림자 페이징 회복 기법
- 트랜잭션 시작 지점에 Current page Table과 동일한 Shadow Page Table 생성, 성공 시 삭제, 실패시 Current Page Table로 사용
- 트랜잭션이 성공적으로 완료될 경우 Shadow Page Table 삭제
#### 4. 미디어 회복 기법
- 비휘발성 저장 장치 손상에 대비하여 백업, 미러링, RAID 등을 통해 별도 저장장치에 덤프
#### 5. ARIES 회복 기법
- REDO 중 Repeating history, UNDO 중 Logging, 분석단계, REDO 단계, UNDO 단계로 구성
- 주요 3단계
  - 분석 단계
  - REDO 단계
  - UNDO 단계

## 1. ETL
### 1. ETL 개념
- 데이터 전환은 기존 원천시스템에서 데이터를 추출(Extraction)하고, 이를 목적시스템의 데이터베이스에 적합한 형식과 내용으로 변환(Transformation)한 후, 목적시스템에 적재(Loading)하는 일련의 과정이다.
- 일반적으로 ETL(Extraction, Transformation, Loading)프로세스라고 한다.

### 2. 데이터 전환 절차
- 데이터 전환 계획 및 요건 정의
- 데이터 전환 설계
- 데이터 전환 개발
- 데이터 전환 테스트 및 검증
- 데이터 전환

### 3. 데이터 전환이 필요한 이유
- 시스템 통합
- 사업 요구사항 확장
- 조직의 합병,인수 또는 축소
- 오래되거나 더 이상 제공하지 않는 소프트웨어의 교체
- 신기술 도입
- 성능 향상, 안정성